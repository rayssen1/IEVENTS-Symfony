{% extends 'baya.html.twig' %}

{% block body %}
<style>
.pricing-table {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: stretch;
}
</style>
    <header id="header">
        <div id="menu" class="header-menu fixed">
            <div class="box">
                <div class="row">
                    <nav role="navigation" class="col-sm-12">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>

                            <!--== Logo ==-->
                            <span class="navbar-brand logo">
                                I-EVENTS
                            </span>
                        </div>
                        <div class="navbar-collapse collapse">
                            <!--== Navigation Menu ==-->
                            <ul class="nav navbar-nav">
                                <li class="current"><a href="#header">Home</a></li>
                                <li><a href="#about">About us</a></li>
                                <li><a href="/reservation">Mes Reservations</a></li>
                                <li><a href="/reclamation/new">Reclamation</a></li>
                                <li><a href="#prices">Pricing</a></li>
                              {% if app.session.get('session_key') %}
    <!-- User is logged in -->
                            <li><a href="{{ path('app_user_edit', {'id': app.session.get('user_id')}) }}">Profile</a></li>
                             <li><a href="/logout">Log out</a></li>
                            {% else %}
    <!-- User is not logged in -->
                             <li><a href="/authentication">Sign In</a></li>
                            <li><a href="/user/new">Sign Up</a></li>
                            {% endif %}
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    

    <section id="prices" class="row">
        <div class="title-start events-menu col-md-4 col-md-offset-4">
            <h2>Mes Réservations</h2>
            <p class="sub-text text-center">Historique et gestion de vos réservations</p>
        </div>

        <div class="col-md-12 visible-md visible-lg">
            <div class="wrap">
                <div class="pricing-table">
                    {% for reservation in reservations %}
                        <div class="plan">
                            <h4 class="price">
                                {{ reservation.totalprice }} DT
                                <span>
                                    {% if reservation.status == 'confirmée' %}
                                        Confirmée
                                    {% elseif reservation.status == 'annulée' %}
                                        Annulée
                                    {% else %}
                                        En attente
                                    {% endif %}
                                </span>
                            </h4>
                            <ul class="details">
                                <li><strong>ID Réservation :</strong> {{ reservation.id }}</li>
                                <li><strong>Statut :</strong> {{ reservation.status|capitalize }}</li>
                            </ul>
                            <h5 class="order">
                                <a href="{{ path('app_reservation_show', {'id': reservation.id}) }}">Voir</a> |
                                <a href="{{ path('app_reservation_edit', {'id': reservation.id}) }}">Modifier</a>
                            </h5>
                        </div>
                    {% else %}
                        <p class="text-center">Aucune réservation trouvée.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
